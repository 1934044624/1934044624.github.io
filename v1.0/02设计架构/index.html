


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>设计架构 &mdash; RCP 1.0 v1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=9cbd3308" />

  
    <link rel="canonical" href="https://1934044624.github.io/v1.0/02%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/index.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=e160b93e"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="设计思想" href="../01%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/index.html" />
     
    
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    
    <style>
        .version-switcher-container {
            position: fixed;
            left: 20px;
            bottom: 30px;
            padding: 8px 12px;
            background-color: transparent;
            border: 1px solid transparent;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }
        .version-label {
            font-size: 14px;
            color: #077e29;
            margin-right: 8px;
            font-weight: 500;
        }
        .version-select {
            padding: 4px 8px;
            border: 1px solid transparent;
            border-radius: 3px;
            font-size: 14px;
            color: #077e29;
            background-color: transparent;
            cursor: pointer;
            outline: none; /* 去掉默认外边框 */
            -webkit-appearance: none; /* 去掉webkit内核浏览器默认样式 */
            -moz-appearance: none; /* 去掉firefox默认样式 */
            appearance: none; /* 标准写法，去掉原生下拉样式 */
        }
        /* 关键：覆盖所有状态的高亮样式 */
        .version-select:focus,
        .version-select:active,
        .version-select:focus-visible {
            border-color: #077e29 !important; /* 保持自定义绿色边框 */
            color: #077e29 !important;       /* 保持文字颜色 */
            background-color: transparent !important; /* 保持透明背景 */
            outline: none !important;        /* 彻底去掉默认外发光 */
            box-shadow: none !important;     /* 去掉默认阴影高亮 */
        }
        .version-select:hover {
            border-color: #077e29;
            color: #077e29;
        }
        /* 覆盖下拉选项的默认高亮样式（可选） */
        .version-select option {
            background-color: #ffffff; /* 选项背景设为白色 */
            color: #077e29;            /* 选项文字颜色 */
        }
        .version-select option:checked {
            background-color: #f0f8f2; /* 选中选项的背景（浅绿） */
            color: #077e29;
        }
        @media (max-width: 768px) {
            .version-switcher-container {
                left: 10px;
                bottom: 10px;
                padding: 6px 10px;
            }
            .version-label {
                font-size: 13px;
            }
            .version-select {
                font-size: 13px;
                padding: 3px 6px;
                color: #077e29;
            }
        }
    </style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            RCP 1.0
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/index.html">设计思想</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">设计架构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rcp-core">RCP Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sensor-server">Sensor Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#infer-server">Infer Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-manager-server">Model Manager Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#skill-server">Skill Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#agent-server">Agent Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#comm-plugin">comm plugin</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RCP 1.0</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">设计架构</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>设计架构<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<p>整个RCP1.0架构如下。自下而上，主要分为Robot和AI模块，在Robot模块中，主要包括数据管理，动作，传感器等相关服务，向外部提供数据采集，关节动作执行，传感器数据等工具能力。这些服务可通过中间件与底层执行节点进行通信，也可通过模块引入的方式。在AI模块中，主要包括模型管理，模型推理，技能，Agent服务，向外部提供模型更新，模型推理，技能执行，工作流等相关服务。而这些Tool Server统一通过通信插件向外提供服务，通信插件包括可在WebSocket，MCP，ROS/LCM，用户可根据实际场景在公网，局域网或本地使用这些服务。另外也可针对特定的平台提供通信插件，比如针对乐云平台，会提供Rynn Plugin。</p>
<p>图 RCP 1.0详细架构
架构简化版参考如下，其中各个Server构成RCP核心能力（简称为RCP Core），通信插件（简称为Comm Plugin）和RCP Core通过BUS统一高效交互。一般一个机器人本体维护一个RCP Core单例和一组Comm Plugin。</p>
<p>图 RCP 1.0简化架构</p>
<section id="rcp-core">
<h2>RCP Core<a class="headerlink" href="#rcp-core" title="Link to this heading"></a></h2>
<p>RCP Core目前包括Action，Sensor，Policy，Skill，Device Monitor以及Data的服务。一方面对接本体侧的基本数据和信息，另一方面将相关的tools包装为统一数据类型，并支持不同的Comm Plugin接入。以下是各个服务的详细介绍。
Action Server
——–
Action Server实现对执行器以及状态等封装，面向的机器人形态包括人形，单臂，双臂等。目前市场中广泛使用的机器人的接入方式如下：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>厂商</p></th>
<th class="head"><p>产品</p></th>
<th class="head"><p>接入方式</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>宇树 unitree</p></td>
<td><p>G1</p></td>
<td><p>cyclone DDS/ROS2</p></td>
</tr>
<tr class="row-odd"><td><p>加速进化</p></td>
<td><p>T1/K1</p></td>
<td><p>FastDDS/ROS2(提供SDK的方式接入)</p></td>
</tr>
<tr class="row-even"><td><p>睿尔曼</p></td>
<td><p>rm75/rm65/人形等</p></td>
<td><p>UDP(json)/ROS2</p></td>
</tr>
<tr class="row-odd"><td><p>松灵</p></td>
<td><p>piper/COBOT MAGIC/移动底盘</p></td>
<td><p>ROS1/ROS2</p></td>
</tr>
<tr class="row-even"><td><p>四川人形</p></td>
<td><p>——</p></td>
<td><p>ROS2</p></td>
</tr>
</tbody>
</table>
<p>考虑到以上厂商提供的接入方，Action Server在接入外部机器人时，主要考虑基于ROS/DDS的方式接入。另外考虑到兼容性，也会加入LCM的方式支持。由于中间件的引入，一方面会增加系统部署的复杂度，另一方面在不同平台上，面向本体的相关短消息传输会引入短暂的延迟，考虑到部分控制场景的实时性需求，也将会支持直接调用模块的方式，以消除这部分的延迟。</p>
<img alt="../_images/tst1.png" src="../_images/tst1.png" />
</section>
<section id="sensor-server">
<h2>Sensor Server<a class="headerlink" href="#sensor-server" title="Link to this heading"></a></h2>
<p>Action Server实现对传感器的封装，包括视觉，触觉等。参考Action Server中统计结果，在货架机器人产品中，腰部、头部，腕部相机均已通过对应的接入方式实现，故Sensor Server也会支持ROS/DDS/LCM的方式接入。但由于在某些特定场景中，比如一些性能较低的运行平台，如果用户使用ROS接入平台，会引入较大的负载和延迟，所以针对这种场景，Sensor Server提供基于device port的方式接入，用户只需要提供相机接入的port即可，框架已经针对一些常见设备提供基本实现。如果用户使用的设备需要使用特别的驱动方式接入，则需要按照框架提供的模板编写设备操作类。</p>
<p>图 传感器接入方式</p>
</section>
<section id="infer-server">
<h2>Infer Server<a class="headerlink" href="#infer-server" title="Link to this heading"></a></h2>
<p>框架可支持多种模型，包括VLA和RL，在本地或远程进行推理。Infer Server将提供所支持模型的推理服务工具。推理服务在运行时，会通过BUS调用Action Server和Sensor Server提供的接口。</p>
</section>
<section id="model-manager-server">
<h2>Model Manager Server<a class="headerlink" href="#model-manager-server" title="Link to this heading"></a></h2>
<p>Model Manager Server提供模型的更新，校验等服务工具。Infer Server可根据Model info发起本地或者远程推理服务。</p>
</section>
<section id="skill-server">
<h2>Skill Server<a class="headerlink" href="#skill-server" title="Link to this heading"></a></h2>
<p>Skill Server提供面向原子技能的工具，工具依靠包括Infer Server和Model Manager Server提供的能力，也包括直接通过模块引入的其他工具，比如基于SLAM的建图和导航能力。</p>
</section>
<section id="agent-server">
<h2>Agent Server<a class="headerlink" href="#agent-server" title="Link to this heading"></a></h2>
<p>Agent Server提供基于工作流引擎驱动的工具。用户可将编排后的工作流更新到本地，Agent Server可根据统一的工作流协议对其进行解析并按照既定流程完成任务。在之后也将接入规划模型，形成更加智能的工作流驱动。在整个执行过程中，Agent可调用本地Server提供的工具，无论是抽象程度更高的Skill，或者是直接面向关节模组的角度设置。当与其他机器人本体通过安全建联后，Agent也可以调用其他机器人执行特定任务。</p>
</section>
<section id="comm-plugin">
<h2>comm plugin<a class="headerlink" href="#comm-plugin" title="Link to this heading"></a></h2>
<p>通信插件主要是将各个server提供的能力向外部暴露。每个server会提供标准格式的工具调用方式和描述信息，这些描述信息将会基于统一的序列化方式，包括JSON-RPC，Protobuf，通过各个传输协议进行通信。由于传输协议和序列化方式存在一定的绑定关系，目前我们推荐按照如下方式接入。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../01%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/index.html" class="btn btn-neutral float-left" title="设计思想" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, 484012.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
     
    
    
    <div class="version-switcher-container">
        <span class="version-label">文档版本：</span>
        <select class="version-select" id="versionSelector">
            
                <option 
                    data-version="v1.0"  
                    selected
                >
                    v1.0
                </option>
            
                <option 
                    data-version="v2.0"  
                    
                >
                    v2.0
                </option>
            
        </select>
    </div>

    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const versionSelector = document.getElementById('versionSelector');
            
            /**
             * 核心逻辑：替换URL中的版本号，保留其他部分
             */
            function switchVersion() {
                // 1. 获取选中的新版本号（如 v1.0）
                const selectedVersion = this.options[this.selectedIndex].dataset.version;
                if (!selectedVersion) return;
                
                // 2. 获取当前完整URL（本地file协议路径）
                const currentUrl = window.location.href;
                
                // 3. 正则匹配并替换版本号（匹配 v+数字.数字 格式，如 v1.0、v1.0）
                const versionRegex = /v\d+\.\d+/;
                const newUrl = currentUrl.replace(versionRegex, selectedVersion);
                
                // 4. 验证并跳转（避免重复跳转）
                if (newUrl && newUrl !== currentUrl) {
                    window.location.href = newUrl;
                }
            }

            // 绑定下拉框change事件
            versionSelector.addEventListener('change', switchVersion);
            
            // 绑定键盘回车事件
            versionSelector.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    switchVersion.call(this);
                }
            });
        });
    </script>


</body>
</html>